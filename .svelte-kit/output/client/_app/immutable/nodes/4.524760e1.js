import{g as zr}from"../chunks/getSupabase.92680f2a.js";import"../chunks/index.da8f1b77.js";import{r as Vr}from"../chunks/index.d7eb2526.js";import{S as Pr,b as Lr,a as xr,e as rt,f as C,A as Oe,h as A,j as Se,k as E,l as y,H as Rr,I as jr,J as $r,K as Er,p as D,q as T,u as M,v as P,M as It,o as Hr,x as ne,c as Z,D as ye,y as ae,d as ee,E as _e,$ as Ne,w as wt,L as $,F as we,z as St,G as ke,B as Kr,a4 as Wr,N as Ke,X as Ir,a5 as Gr,a6 as Jr,a0 as Yr,a7 as Ct,a8 as Xr,Q as Pt,n as be}from"../chunks/index.64e18256.js";import{p as Qr}from"../chunks/stores.0a9bc1dc.js";import{B as Be}from"../chunks/Button.ec37116f.js";import{I as qr}from"../chunks/Input.9b0282a1.js";import{T as pt}from"../chunks/Title.829fe55f.js";import{s as xe,g as Zr,h as kt}from"../chunks/db.a1cf1a92.js";import{c as Ae}from"../chunks/utilities.3a4ef1d9.js";import{g as en,d as ut}from"../chunks/browser-ponyfill.82cba527.js";import{k as tn}from"../chunks/singletons.8f6ce276.js";const rn=async i=>{const{session:e}=await zr(i);if(!e)throw Vr(303,"/login")},_i=Object.freeze(Object.defineProperty({__proto__:null,load:rn},Symbol.toStringTag,{value:"Module"}));/*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 */function Nt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function ct(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Nt(Object(t),!0).forEach(function(n){on(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Nt(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function nn(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function an(i,e,t){return e&&Dt(i.prototype,e),t&&Dt(i,t),i}function on(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function dt(){return dt=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},dt.apply(this,arguments)}var Cr={exports:{}};(function(i){typeof window>"u"||function(e){var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch{return!1}}(),r=n&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(n||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(l){var c,u,f,g,d,p,v,_,h;if(c=l.match(o),!c)throw new Error("invalid data URI");for(u=c[2]?c[1]:"text/plain"+(c[3]||";charset=US-ASCII"),f=!!c[4],g=l.slice(c[0].length),f?d=atob(g):d=decodeURIComponent(g),p=new ArrayBuffer(d.length),v=new Uint8Array(p),_=0;_<d.length;_+=1)v[_]=d.charCodeAt(_);return n?new Blob([r?v:p],{type:u}):(h=new a,h.append(p),h.getBlob(u))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(l,c,u){var f=this;setTimeout(function(){u&&t.toDataURL&&s?l(s(f.toDataURL(c,u))):l(f.mozGetAsFile("blob",c))})}:t.toDataURL&&s&&(t.msToBlob?t.toBlob=function(l,c,u){var f=this;setTimeout(function(){(c&&c!=="image/png"||u)&&t.toDataURL&&s?l(s(f.toDataURL(c,u))):l(f.msToBlob(c))})}:t.toBlob=function(l,c,u){var f=this;setTimeout(function(){l(s(f.toDataURL(c,u)))})})),i.exports?i.exports=s:e.dataURLtoBlob=s}(window)})(Cr);var sn=Cr.exports,ln=function(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},Tt={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},un=typeof window<"u"&&typeof window.document<"u",We=un?window:{},ht=function(e){return e>0&&e<1/0},cn=Array.prototype.slice;function fn(i){return Array.from?Array.from(i):cn.call(i)}var gn=/^image\/.+$/;function Lt(i){return gn.test(i)}function pn(i){var e=Lt(i)?i.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var Nr=String.fromCharCode;function dn(i,e,t){var n="",r;for(t+=e,r=e;r<t;r+=1)n+=Nr(i.getUint8(r));return n}var hn=We.btoa;function mn(i,e){for(var t=[],n=8192,r=new Uint8Array(i);r.length>0;)t.push(Nr.apply(null,fn(r.subarray(0,n)))),r=r.subarray(n);return"data:".concat(e,";base64,").concat(hn(t.join("")))}function vn(i){var e=new DataView(i),t;try{var n,r,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,s=2;s+1<o;){if(e.getUint8(s)===255&&e.getUint8(s+1)===225){r=s;break}s+=1}if(r){var l=r+4,c=r+10;if(dn(e,l,4)==="Exif"){var u=e.getUint16(c);if(n=u===18761,(n||u===19789)&&e.getUint16(c+2,n)===42){var f=e.getUint32(c+4,n);f>=8&&(a=c+f)}}}if(a){var g=e.getUint16(a,n),d,p;for(p=0;p<g;p+=1)if(d=a+p*12+2,e.getUint16(d,n)===274){d+=8,t=e.getUint16(d,n),e.setUint16(d,1,n);break}}}catch{t=1}return t}function bn(i){var e=0,t=1,n=1;switch(i){case 2:t=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,t=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:t,scaleY:n}}var yn=/\.\d*(?:0|9){12}\d*$/;function Ut(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return yn.test(i)?Math.round(i*e)/e:i}function at(i){var e=i.aspectRatio,t=i.height,n=i.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",a=ht(n),o=ht(t);if(a&&o){var s=t*e;(r==="contain"||r==="none")&&s>n||r==="cover"&&s<n?t=n/e:n=t*e}else a?t=n/e:o&&(n=t*e);return{width:n,height:t}}var _n=We.ArrayBuffer,At=We.FileReader,Xe=We.URL||We.webkitURL,wn=/\.\w+$/,kn=We.Compressor,On=function(){function i(e,t){nn(this,i),this.file=e,this.image=new Image,this.options=ct(ct({},Tt),t),this.aborted=!1,this.result=null,this.init()}return an(i,[{key:"init",value:function(){var t=this,n=this.file,r=this.options;if(!ln(n)){this.fail(new Error("The first argument must be a File or Blob object."));return}var a=n.type;if(!Lt(a)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Xe||!At){this.fail(new Error("The current browser does not support image compression."));return}if(_n||(r.checkOrientation=!1),Xe&&!r.checkOrientation)this.load({url:Xe.createObjectURL(n)});else{var o=new At,s=r.checkOrientation&&a==="image/jpeg";this.reader=o,o.onload=function(l){var c=l.target,u=c.result,f={};if(s){var g=vn(u);g>1||!Xe?(f.url=mn(u,a),g>1&&dt(f,bn(g))):f.url=Xe.createObjectURL(n)}else f.url=u;t.load(f)},o.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},o.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},o.onloadend=function(){t.reader=null},s?o.readAsArrayBuffer(n):o.readAsDataURL(n)}}},{key:"load",value:function(t){var n=this,r=this.file,a=this.image;a.onload=function(){n.draw(ct(ct({},t),{},{naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight}))},a.onabort=function(){n.fail(new Error("Aborted to load the image."))},a.onerror=function(){n.fail(new Error("Failed to load the image."))},We.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(We.navigator.userAgent)&&(a.crossOrigin="anonymous"),a.alt=r.name,a.src=t.url}},{key:"draw",value:function(t){var n=this,r=t.naturalWidth,a=t.naturalHeight,o=t.rotate,s=o===void 0?0:o,l=t.scaleX,c=l===void 0?1:l,u=t.scaleY,f=u===void 0?1:u,g=this.file,d=this.image,p=this.options,v=document.createElement("canvas"),_=v.getContext("2d"),h=Math.abs(s)%180===90,b=(p.resize==="contain"||p.resize==="cover")&&ht(p.width)&&ht(p.height),S=Math.max(p.maxWidth,0)||1/0,L=Math.max(p.maxHeight,0)||1/0,G=Math.max(p.minWidth,0)||0,U=Math.max(p.minHeight,0)||0,x=r/a,R=p.width,N=p.height;if(h){var K=[L,S];S=K[0],L=K[1];var le=[U,G];G=le[0],U=le[1];var me=[N,R];R=me[0],N=me[1]}b&&(x=R/N);var q=at({aspectRatio:x,width:S,height:L},"contain");S=q.width,L=q.height;var ie=at({aspectRatio:x,width:G,height:U},"cover");if(G=ie.width,U=ie.height,b){var ge=at({aspectRatio:x,width:R,height:N},p.resize);R=ge.width,N=ge.height}else{var ce=at({aspectRatio:x,width:R,height:N}),re=ce.width;R=re===void 0?r:re;var oe=ce.height;N=oe===void 0?a:oe}R=Math.floor(Ut(Math.min(Math.max(R,G),S))),N=Math.floor(Ut(Math.min(Math.max(N,U),L)));var j=-R/2,H=-N/2,z=R,X=N,te=[];if(b){var J=0,se=0,pe=r,fe=a,Pe=at({aspectRatio:x,width:r,height:a},{contain:"cover",cover:"contain"}[p.resize]);pe=Pe.width,fe=Pe.height,J=(r-pe)/2,se=(a-fe)/2,te.push(J,se,pe,fe)}if(te.push(j,H,z,X),h){var Q=[N,R];R=Q[0],N=Q[1]}v.width=R,v.height=N,Lt(p.mimeType)||(p.mimeType=g.type);var Re="transparent";if(g.size>p.convertSize&&p.convertTypes.indexOf(p.mimeType)>=0&&(p.mimeType="image/jpeg"),p.mimeType==="image/jpeg"&&(Re="#fff"),_.fillStyle=Re,_.fillRect(0,0,R,N),p.beforeDraw&&p.beforeDraw.call(this,_,v),!this.aborted&&(_.save(),_.translate(R/2,N/2),_.rotate(s*Math.PI/180),_.scale(c,f),_.drawImage.apply(_,[d].concat(te)),_.restore(),p.drew&&p.drew.call(this,_,v),!this.aborted)){var ue=function(m){n.aborted||n.done({naturalWidth:r,naturalHeight:a,result:m})};v.toBlob?v.toBlob(ue,p.mimeType,p.quality):ue(sn(v.toDataURL(p.mimeType,p.quality)))}}},{key:"done",value:function(t){var n=t.naturalWidth,r=t.naturalHeight,a=t.result,o=this.file,s=this.image,l=this.options;if(Xe&&!l.checkOrientation&&Xe.revokeObjectURL(s.src),a)if(l.strict&&a.size>o.size&&l.mimeType===o.type&&!(l.width>n||l.height>r||l.minWidth>n||l.minHeight>r||l.maxWidth<n||l.maxHeight<r))a=o;else{var c=new Date;a.lastModified=c.getTime(),a.lastModifiedDate=c,a.name=o.name,a.name&&a.type!==o.type&&(a.name=a.name.replace(wn,pn(a.type)))}else a=o;this.result=a,l.success&&l.success.call(this,a)}},{key:"fail",value:function(t){var n=this.options;if(n.error)n.error.call(this,t);else throw t}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=kn,i}},{key:"setDefaults",value:function(t){dt(Tt,t)}}]),i}();function Sn(i){let e;const t=i[2].default,n=Rr(t,i,i[1],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,a){n&&n.m(r,a),e=!0},p(r,a){n&&n.p&&(!e||a&2)&&jr(n,t,r,r[1],e?Er(t,r[1],a,null):$r(r[1]),null)},i(r){e||(E(n,r),e=!0)},o(r){A(n,r),e=!1},d(r){n&&n.d(r)}}}function Pn(i){let e,t;const n=i[2].default,r=Rr(n,i,i[1],null);return{c(){e=D("div"),r&&r.c(),this.h()},l(a){e=T(a,"DIV",{class:!0,"data-tip":!0});var o=M(e);r&&r.l(o),o.forEach(y),this.h()},h(){P(e,"class","tooltip"),P(e,"data-tip",i[0])},m(a,o){C(a,e,o),r&&r.m(e,null),t=!0},p(a,o){r&&r.p&&(!t||o&2)&&jr(r,n,a,a[1],t?Er(n,a[1],o,null):$r(a[1]),null),(!t||o&1)&&P(e,"data-tip",a[0])},i(a){t||(E(r,a),t=!0)},o(a){A(r,a),t=!1},d(a){a&&y(e),r&&r.d(a)}}}function Ln(i){let e,t,n,r;const a=[Pn,Sn],o=[];function s(l,c){return l[0]?0:1}return e=s(i),t=o[e]=a[e](i),{c(){t.c(),n=rt()},l(l){t.l(l),n=rt()},m(l,c){o[e].m(l,c),C(l,n,c),r=!0},p(l,[c]){let u=e;e=s(l),e===u?o[e].p(l,c):(Oe(),A(o[u],1,1,()=>{o[u]=null}),Se(),t=o[e],t?t.p(l,c):(t=o[e]=a[e](l),t.c()),E(t,1),t.m(n.parentNode,n))},i(l){r||(E(t),r=!0)},o(l){A(t),r=!1},d(l){o[e].d(l),l&&y(n)}}}function xn(i,e,t){let{$$slots:n={},$$scope:r}=e,{message:a}=e;return i.$$set=o=>{"message"in o&&t(0,a=o.message),"$$scope"in o&&t(1,r=o.$$scope)},[a,r,n]}class Rn extends Pr{constructor(e){super(),Lr(this,e,xn,Ln,xr,{message:0})}}var Fe=(i=>(i.man="Man",i.woman="Woman",i.youngmale="youngmale",i.youngfemale="youngfemale",i.cat="Cat",i))(Fe||{});Fe.couple,Fe.couple,Fe.couple,Fe.couple,Fe.couple,Fe.couple,Fe.couple,Fe.couple;var Ft={},jn={get exports(){return Ft},set exports(i){Ft=i}};(function(i,e){(function(n,r){i.exports=r()})(window,function(){return function(t){var n={};function r(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(a,o,s){r.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},r.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},r.t=function(a,o){if(o&1&&(a=r(a)),o&8||o&4&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),o&2&&typeof a!="string")for(var l in a)r.d(s,l,function(c){return a[c]}.bind(null,l));return s},r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,"a",o),o},r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},r.p="",r(r.s=0)}([function(t,n,r){t.exports=r(1).default},function(t,n,r){r.r(n);var a={};r.r(a),r.d(a,"atPos",function(){return N}),r.d(a,"lowerRight",function(){return K}),r.d(a,"upperRight",function(){return le}),r.d(a,"lowerLeft",function(){return me}),r.d(a,"upperLeft",function(){return q}),r.d(a,"center",function(){return ie});var o={};r.r(o),r.d(o,"atPos",function(){return ge}),r.d(o,"lowerRight",function(){return ce}),r.d(o,"lowerLeft",function(){return re}),r.d(o,"upperRight",function(){return oe}),r.d(o,"upperLeft",function(){return j}),r.d(o,"center",function(){return H});function s(){for(var m=arguments.length,w=new Array(m),k=0;k<m;k++)w[k]=arguments[k];return function(I){return w.reduce(function(W,F){return F.call(null,W)},I)}}function l(m){return m}function c(m){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(k){return typeof k}:c=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},c(m)}function u(m,w,k){m.onload=function(){return k(m)},m.src=w}function f(m){var w=c(m);return w==="string"?d:m instanceof Image?l:p}function g(m,w){for(var k=[],I=0;I<m.length;I++){var W=m[I],F=f(W),V=F(W,w);k.push(V)}return Promise.all(k)}function d(m,w){var k=new Image;return typeof w=="function"&&w(k),new Promise(function(I){k.onload=function(){return I(k)},k.src=m})}function p(m){var w=new FileReader;return new Promise(function(k){var I=new Image;w.onloadend=function(){return u(I,w.result,k)},w.readAsDataURL(m)})}function v(m,w){var k=new Image;return typeof w=="function"&&(k.onload=w),k.src=m,k}function _(m,w){var k=w.getContext("2d");return w.width=m.width,w.height=m.height,k.drawImage(m,0,0),w}function h(m,w){var k=w.pop();return _(m,k)}function b(m,w){return m.map(function(k){return h(k,w)})}function S(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{type:"image/png",encoderOptions:.92};return m.toDataURL(w.type,w.encoderOptions)}var L=/^data:([^;]+);base64,(.*)$/;function G(m){return L.exec(m).slice(1)}function U(m){return window.atob(m)}function x(m){for(var w=m.length,k=new Uint8Array(w),I=0;I<w;I++)k[I]=m.charCodeAt(I);return k}var R=s(G,function(m){return[U(m[1]),m[0]]},function(m){return new Blob([x(m[0])],{type:m[1]})});function N(m,w,k){return k||(k=1),function(I,W){var F=I.getContext("2d");return F.save(),F.globalAlpha=k,F.drawImage(W,m(I,W),w(I,W)),F.restore(),I}}function K(m){return N(function(w,k){return w.width-(k.width+10)},function(w,k){return w.height-(k.height+10)},m)}function le(m){return N(function(w,k){return w.width-(k.width+10)},function(w,k){return 10},m)}function me(m){return N(function(w,k){return 10},function(w,k){return w.height-(k.height+10)},m)}function q(m){return N(function(w,k){return 10},function(w,k){return 10},m)}function ie(m){return N(function(w,k){return(w.width-k.width)/2},function(w,k){return(w.height-k.height)/2},m)}function ge(m,w,k,I,W,F){return F||(F=1),function(V){var Y=V.getContext("2d");Y.save(),Y.globalAlpha=F,Y.fillStyle=W,Y.font=I;var Le=Y.measureText(k);return Y.fillText(k,m(V,Le,Y),w(V,Le,Y)),Y.restore(),V}}function ce(m,w,k,I,W){return ge(function(F,V){return F.width-(V.width+10)},function(F){return W||F.height-10},m,w,k,I)}function re(m,w,k,I,W){return ge(function(){return 10},function(F){return W||F.height-10},m,w,k,I)}function oe(m,w,k,I,W){return ge(function(F,V){return F.width-(V.width+10)},function(){return W||20},m,w,k,I)}function j(m,w,k,I,W){return ge(function(){return 10},function(){return W||20},m,w,k,I)}function H(m,w,k,I,W){return ge(function(F,V,Y){return Y.textAlign="center",F.width/2},function(F,V,Y){return Y.textBaseline="middle",F.height/2},m,w,k,I)}var z=a,X=o;function te(m,w){var k=m.apply(null,w);return{canvas:k,sources:w}}function J(m,w){var k=Object.keys(w);return k.forEach(function(I){return m[I]=w[I]}),m}function se(m){return J({},m)}function pe(){var m=[];return{pop:function(){return this.length===0&&m.push(document.createElement("canvas")),m.pop()},get length(){return m.length},release:function(k){var I=k.getContext("2d");I.clearRect(0,0,k.width,k.height),m.push(k)},clear:function(){m.splice(0,m.length)},get elements(){return m}}}var fe=pe(),Pe=fe;r.d(n,"default",function(){return de});var Q={init:function(){},type:"image/png",encoderOptions:.92};function Re(m){return J(se(Q),m)}function ue(m,w,k){var I=m.canvas,W=m.sources,F=S(I,k);return W.forEach(w.release),F}function de(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,I=Re(w);return k||(k=g(m,I.init)),{dataUrl:function(F){var V=this.then(function(Y){return b(Y,Pe)}).then(function(Y){return te(F,Y)}).then(function(Y){return ue(Y,Pe,{type:I.type,encoderOptions:I.encoderOptions})});return de(m,I,V)},load:function(F,V){var Y=this.then(function(Le){return g([Le].concat(F),V)});return de(F,I,Y)},render:function(){var F=this.then(function(V){return g([V])});return de(m,I,F)},blob:function(F){var V=this.dataUrl(F).then(R);return de(m,I,V)},image:function(F){var V=this.dataUrl(F).then(v);return de(m,I,V)},then:function(){for(var F=arguments.length,V=new Array(F),Y=0;Y<F;Y++)V[Y]=arguments[Y];return k.then.apply(k,V)}}}de.image=z,de.text=X,de.destroy=function(){return Pe.clear()}}])})})(jn);function $e(i){return $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$e(i)}function Ee(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function $n(i,e){if($e(i)!=="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if($e(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Dr(i){var e=$n(i,"string");return $e(e)==="symbol"?e:String(e)}function Bt(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,Dr(n.key),n)}}function Ie(i,e,t){return e&&Bt(i.prototype,e),t&&Bt(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function He(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function xt(i,e){return xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xt(i,e)}function bt(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&xt(i,e)}function lt(i,e){if(e&&($e(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return He(i)}function Ue(i){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ue(i)}function Je(i,e,t){return e=Dr(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function En(i){if(Array.isArray(i))return i}function In(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function Mt(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function Cn(i,e){if(i){if(typeof i=="string")return Mt(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mt(i,e)}}function Nn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dn(i){return En(i)||In(i)||Cn(i)||Nn()}function zt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Vt(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zt(Object(t),!0).forEach(function(n){Je(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):zt(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}var Tn={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Un=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ee(this,i),this.init(e,t)}return Ie(i,[{key:"init",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||Tn,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,n,r,a){return a&&!this.debug?null:(typeof t[0]=="string"&&(t[0]="".concat(r).concat(this.prefix," ").concat(t[0])),this.logger[n](t))}},{key:"create",value:function(t){return new i(this.logger,Vt(Vt({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new i(this.logger,t)}}]),i}(),Te=new Un,Ge=function(){function i(){Ee(this,i),this.observers={}}return Ie(i,[{key:"on",value:function(t,n){var r=this;return t.split(" ").forEach(function(a){r.observers[a]=r.observers[a]||[],r.observers[a].push(n)}),this}},{key:"off",value:function(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t]=this.observers[t].filter(function(r){return r!==n})}}},{key:"emit",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];if(this.observers[t]){var o=[].concat(this.observers[t]);o.forEach(function(l){l.apply(void 0,r)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(l){l.apply(l,[t].concat(r))})}}}]),i}();function it(){var i,e,t=new Promise(function(n,r){i=n,e=r});return t.resolve=i,t.reject=e,t}function Ht(i){return i==null?"":""+i}function An(i,e,t){i.forEach(function(n){e[n]&&(t[n]=e[n])})}function Rt(i,e,t){function n(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function r(){return!i||typeof i=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(r())return{};var o=n(a.shift());!i[o]&&t&&(i[o]=new t),Object.prototype.hasOwnProperty.call(i,o)?i=i[o]:i={}}return r()?{}:{obj:i,k:n(a.shift())}}function Kt(i,e,t){var n=Rt(i,e,Object),r=n.obj,a=n.k;r[a]=t}function Fn(i,e,t,n){var r=Rt(i,e,Object),a=r.obj,o=r.k;a[o]=a[o]||[],n&&(a[o]=a[o].concat(t)),n||a[o].push(t)}function mt(i,e){var t=Rt(i,e),n=t.obj,r=t.k;if(n)return n[r]}function Wt(i,e,t){var n=mt(i,t);return n!==void 0?n:mt(e,t)}function Tr(i,e,t){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in i?typeof i[n]=="string"||i[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?t&&(i[n]=e[n]):Tr(i[n],e[n],t):i[n]=e[n]);return i}function et(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Mn(i){return typeof i=="string"?i.replace(/[&<>"'\/]/g,function(e){return Bn[e]}):i}var yt=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,zn=[" ",",","?","!",";"];function Vn(i,e,t){e=e||"",t=t||"";var n=zn.filter(function(s){return e.indexOf(s)<0&&t.indexOf(s)<0});if(n.length===0)return!0;var r=new RegExp("(".concat(n.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),a=!r.test(i);if(!a){var o=i.indexOf(t);o>0&&!r.test(i.substring(0,o))&&(a=!0)}return a}function Gt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function ft(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gt(Object(t),!0).forEach(function(n){Je(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Gt(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Hn(i){var e=Kn();return function(){var n=Ue(i),r;if(e){var a=Ue(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return lt(this,r)}}function Kn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ur(i,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(i){if(i[e])return i[e];for(var n=e.split(t),r=i,a=0;a<n.length;++a){if(!r||typeof r[n[a]]=="string"&&a+1<n.length)return;if(r[n[a]]===void 0){for(var o=2,s=n.slice(a,a+o).join(t),l=r[s];l===void 0&&n.length>a+o;)o++,s=n.slice(a,a+o).join(t),l=r[s];if(l===void 0)return;if(l===null)return null;if(e.endsWith(s)){if(typeof l=="string")return l;if(s&&typeof l[s]=="string")return l[s]}var c=n.slice(a+o).join(t);return c?Ur(l,c,t):void 0}r=r[n[a]]}return r}}var Wn=function(i){bt(t,i);var e=Hn(t);function t(n){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Ee(this,t),r=e.call(this),yt&&Ge.call(He(r)),r.data=n||{},r.options=a,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.options.ignoreJSONStructure===void 0&&(r.options.ignoreJSONStructure=!0),r}return Ie(t,[{key:"addNamespaces",value:function(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}},{key:"removeNamespaces",value:function(r){var a=this.options.ns.indexOf(r);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(r,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,c=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[r,a];o&&typeof o!="string"&&(u=u.concat(o)),o&&typeof o=="string"&&(u=u.concat(l?o.split(l):o)),r.indexOf(".")>-1&&(u=r.split("."));var f=mt(this.data,u);return f||!c||typeof o!="string"?f:Ur(this.data&&this.data[r]&&this.data[r][a],o,l)}},{key:"addResource",value:function(r,a,o,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},c=this.options.keySeparator;c===void 0&&(c=".");var u=[r,a];o&&(u=u.concat(c?o.split(c):o)),r.indexOf(".")>-1&&(u=r.split("."),s=a,a=u[1]),this.addNamespaces(a),Kt(this.data,u,s),l.silent||this.emit("added",r,a,o,s)}},{key:"addResources",value:function(r,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in o)(typeof o[l]=="string"||Object.prototype.toString.apply(o[l])==="[object Array]")&&this.addResource(r,a,l,o[l],{silent:!0});s.silent||this.emit("added",r,a,o)}},{key:"addResourceBundle",value:function(r,a,o,s,l){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[r,a];r.indexOf(".")>-1&&(u=r.split("."),s=o,o=a,a=u[1]),this.addNamespaces(a);var f=mt(this.data,u)||{};s?Tr(f,o,l):f=ft(ft({},f),o),Kt(this.data,u,f),c.silent||this.emit("added",r,a,o)}},{key:"removeResourceBundle",value:function(r,a){this.hasResourceBundle(r,a)&&delete this.data[r][a],this.removeNamespaces(a),this.emit("removed",r,a)}},{key:"hasResourceBundle",value:function(r,a){return this.getResource(r,a)!==void 0}},{key:"getResourceBundle",value:function(r,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?ft(ft({},{}),this.getResource(r,a)):this.getResource(r,a)}},{key:"getDataByLanguage",value:function(r){return this.data[r]}},{key:"hasLanguageSomeTranslations",value:function(r){var a=this.getDataByLanguage(r),o=a&&Object.keys(a)||[];return!!o.find(function(s){return a[s]&&Object.keys(a[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),t}(Ge),Ar={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,a){var o=this;return e.forEach(function(s){o.processors[s]&&(t=o.processors[s].process(t,n,r,a))}),t}};function Jt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function ve(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Jt(Object(t),!0).forEach(function(n){Je(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Jt(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Gn(i){var e=Jn();return function(){var n=Ue(i),r;if(e){var a=Ue(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return lt(this,r)}}function Jn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Yt={},Xt=function(i){bt(t,i);var e=Gn(t);function t(n){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ee(this,t),r=e.call(this),yt&&Ge.call(He(r)),An(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,He(r)),r.options=a,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.logger=Te.create("translator"),r}return Ie(t,[{key:"changeLanguage",value:function(r){r&&(this.language=r)}},{key:"exists",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(r==null)return!1;var o=this.resolve(r,a);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(r,a){var o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,l=a.ns||this.options.defaultNS||[],c=o&&r.indexOf(o)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!Vn(r,o,s);if(c&&!u){var f=r.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:r,namespaces:l};var g=r.split(o);(o!==s||o===s&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),r=g.join(s)}return typeof l=="string"&&(l=[l]),{key:r,namespaces:l}}},{key:"translate",value:function(r,a,o){var s=this;if($e(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),a||(a={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);var l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(r[r.length-1],a),f=u.key,g=u.namespaces,d=g[g.length-1],p=a.lng||this.language,v=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(v){var _=a.nsSeparator||this.options.nsSeparator;return l?(h.res="".concat(d).concat(_).concat(f),h):"".concat(d).concat(_).concat(f)}return l?(h.res=f,h):f}var h=this.resolve(r,a),b=h&&h.res,S=h&&h.usedKey||f,L=h&&h.exactUsedKey||f,G=Object.prototype.toString.apply(b),U=["[object Number]","[object Function]","[object RegExp]"],x=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,N=typeof b!="string"&&typeof b!="boolean"&&typeof b!="number";if(R&&b&&N&&U.indexOf(G)<0&&!(typeof x=="string"&&G==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var K=this.options.returnedObjectHandler?this.options.returnedObjectHandler(S,b,ve(ve({},a),{},{ns:g})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return l?(h.res=K,h):K}if(c){var le=G==="[object Array]",me=le?[]:{},q=le?L:S;for(var ie in b)if(Object.prototype.hasOwnProperty.call(b,ie)){var ge="".concat(q).concat(c).concat(ie);me[ie]=this.translate(ge,ve(ve({},a),{joinArrays:!1,ns:g})),me[ie]===ge&&(me[ie]=b[ie])}b=me}}else if(R&&typeof x=="string"&&G==="[object Array]")b=b.join(x),b&&(b=this.extendTranslation(b,r,a,o));else{var ce=!1,re=!1,oe=a.count!==void 0&&typeof a.count!="string",j=t.hasDefaultValue(a),H=oe?this.pluralResolver.getSuffix(p,a.count,a):"",z=a["defaultValue".concat(H)]||a.defaultValue;!this.isValidLookup(b)&&j&&(ce=!0,b=z),this.isValidLookup(b)||(re=!0,b=f);var X=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,te=X&&re?void 0:b,J=j&&z!==b&&this.options.updateMissing;if(re||ce||J){if(this.logger.log(J?"updateKey":"missingKey",p,d,f,J?z:b),c){var se=this.resolve(f,ve(ve({},a),{},{keySeparator:!1}));se&&se.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var pe=[],fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(var Pe=0;Pe<fe.length;Pe++)pe.push(fe[Pe]);else this.options.saveMissingTo==="all"?pe=this.languageUtils.toResolveHierarchy(a.lng||this.language):pe.push(a.lng||this.language);var Q=function(ue,de,m){var w=j&&m!==b?m:te;s.options.missingKeyHandler?s.options.missingKeyHandler(ue,d,de,w,J,a):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(ue,d,de,w,J,a),s.emit("missingKey",ue,d,de,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&oe?pe.forEach(function(Re){s.pluralResolver.getSuffixes(Re,a).forEach(function(ue){Q([Re],f+ue,a["defaultValue".concat(ue)]||z)})}):Q(pe,f,z))}b=this.extendTranslation(b,r,a,h,o),re&&b===f&&this.options.appendNamespaceToMissingKey&&(b="".concat(d,":").concat(f)),(re||ce)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(f):f,ce?b:void 0):b=this.options.parseMissingKeyHandler(b))}return l?(h.res=b,h):b}},{key:"extendTranslation",value:function(r,a,o,s,l){var c=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,ve(ve({},this.options.interpolation.defaultVariables),o),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(ve(ve({},o),{interpolation:ve(ve({},this.options.interpolation),o.interpolation)}));var u=typeof r=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(u){var g=r.match(this.interpolator.nestingRegexp);f=g&&g.length}var d=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(d=ve(ve({},this.options.interpolation.defaultVariables),d)),r=this.interpolator.interpolate(r,d,o.lng||this.language,o),u){var p=r.match(this.interpolator.nestingRegexp),v=p&&p.length;f<v&&(o.nest=!1)}o.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var b=arguments.length,S=new Array(b),L=0;L<b;L++)S[L]=arguments[L];return l&&l[0]===S[0]&&!o.context?(c.logger.warn("It seems you are nesting recursively key: ".concat(S[0]," in key: ").concat(a[0])),null):c.translate.apply(c,S.concat([a]))},o)),o.interpolation&&this.interpolator.reset()}var _=o.postProcess||this.options.postProcess,h=typeof _=="string"?[_]:_;return r!=null&&h&&h.length&&o.applyPostProcessor!==!1&&(r=Ar.handle(h,r,a,this.options&&this.options.postProcessPassResolved?ve({i18nResolved:s},o):o,this)),r}},{key:"resolve",value:function(r){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,l,c,u,f;return typeof r=="string"&&(r=[r]),r.forEach(function(g){if(!a.isValidLookup(s)){var d=a.extractFromKey(g,o),p=d.key;l=p;var v=d.namespaces;a.options.fallbackNS&&(v=v.concat(a.options.fallbackNS));var _=o.count!==void 0&&typeof o.count!="string",h=_&&!o.ordinal&&o.count===0&&a.pluralResolver.shouldUseIntlApi(),b=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",S=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);v.forEach(function(L){a.isValidLookup(s)||(f=L,!Yt["".concat(S[0],"-").concat(L)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&(Yt["".concat(S[0],"-").concat(L)]=!0,a.logger.warn('key "'.concat(l,'" for languages "').concat(S.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),S.forEach(function(G){if(!a.isValidLookup(s)){u=G;var U=[p];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(U,p,G,L,o);else{var x;_&&(x=a.pluralResolver.getSuffix(G,o.count,o));var R="".concat(a.options.pluralSeparator,"zero");if(_&&(U.push(p+x),h&&U.push(p+R)),b){var N="".concat(p).concat(a.options.contextSeparator).concat(o.context);U.push(N),_&&(U.push(N+x),h&&U.push(N+R))}}for(var K;K=U.pop();)a.isValidLookup(s)||(c=K,s=a.getResource(G,L,K,o))}}))})}}),{res:s,usedKey:l,exactUsedKey:c,usedLng:u,usedNS:f}}},{key:"isValidLookup",value:function(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}},{key:"getResource",value:function(r,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,a,o,s):this.resourceStore.getResource(r,a,o,s)}}],[{key:"hasDefaultValue",value:function(r){var a="defaultValue";for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&a===o.substring(0,a.length)&&r[o]!==void 0)return!0;return!1}}]),t}(Ge);function Ot(i){return i.charAt(0).toUpperCase()+i.slice(1)}var Qt=function(){function i(e){Ee(this,i),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Te.create("languageUtils")}return Ie(i,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var n=t.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(t){if(typeof t=="string"&&t.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],r=t.split("-");return this.options.lowerCaseLng?r=r.map(function(a){return a.toLowerCase()}):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Ot(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Ot(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Ot(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var n=this;if(!t)return null;var r;return t.forEach(function(a){if(!r){var o=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(o))&&(r=o)}}),!r&&this.options.supportedLngs&&t.forEach(function(a){if(!r){var o=n.getLanguagePartFromCode(a);if(n.isSupportedCode(o))return r=o;r=n.options.supportedLngs.find(function(s){if(s.indexOf(o)===0)return s})}}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}},{key:"getFallbackCodes",value:function(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!n)return t.default||[];var r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}},{key:"toResolveHierarchy",value:function(t,n){var r=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],t),o=[],s=function(c){c&&(r.isSupportedCode(c)?o.push(c):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(c)))};return typeof t=="string"&&t.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):typeof t=="string"&&s(this.formatLanguageCode(t)),a.forEach(function(l){o.indexOf(l)<0&&s(r.formatLanguageCode(l))}),o}}]),i}(),Yn=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Xn={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},Qn=["v1","v2","v3"],qt={zero:0,one:1,two:2,few:3,many:4,other:5};function qn(){var i={};return Yn.forEach(function(e){e.lngs.forEach(function(t){i[t]={numbers:e.nr,plurals:Xn[e.fc]}})}),i}var Zn=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ee(this,i),this.languageUtils=e,this.options=t,this.logger=Te.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=qn()}return Ie(i,[{key:"addRule",value:function(t,n){this.rules[t]=n}},{key:"getRule",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(t,r);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(o,s){return qt[o]-qt[s]}).map(function(o){return"".concat(n.options.prepend).concat(o)}):a.numbers.map(function(o){return n.getSuffix(t,o,r)}):[]}},{key:"getSuffix",value:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(t,r);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,n){var r=this,a=t.noAbs?t.plurals(n):t.plurals(Math.abs(n)),o=t.numbers[a];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var s=function(){return r.options.prepend&&o.toString()?r.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?s():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!Qn.includes(this.options.compatibilityJSON)}}]),i}();function Zt(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function je(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Zt(Object(t),!0).forEach(function(n){Je(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Zt(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}var ea=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ee(this,i),this.logger=Te.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return Ie(i,[{key:"init",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var n=t.interpolation;this.escape=n.escape!==void 0?n.escape:Mn,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?et(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?et(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?et(n.nestingPrefix):n.nestingPrefixEscaped||et("$t("),this.nestingSuffix=n.nestingSuffix?et(n.nestingSuffix):n.nestingSuffixEscaped||et(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(t,n,r,a){var o=this,s,l,c,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(_){return _.replace(/\$/g,"$$$$")}var g=function(h){if(h.indexOf(o.formatSeparator)<0){var b=Wt(n,u,h);return o.alwaysFormat?o.format(b,void 0,r,je(je(je({},a),n),{},{interpolationkey:h})):b}var S=h.split(o.formatSeparator),L=S.shift().trim(),G=S.join(o.formatSeparator).trim();return o.format(Wt(n,u,L),G,r,je(je(je({},a),n),{},{interpolationkey:L}))};this.resetRegExp();var d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,v=[{regex:this.regexpUnescape,safeValue:function(h){return f(h)}},{regex:this.regexp,safeValue:function(h){return o.escapeValue?f(o.escape(h)):f(h)}}];return v.forEach(function(_){for(c=0;s=_.regex.exec(t);){var h=s[1].trim();if(l=g(h),l===void 0)if(typeof d=="function"){var b=d(t,s,a);l=typeof b=="string"?b:""}else if(a&&a.hasOwnProperty(h))l="";else if(p){l=s[0];continue}else o.logger.warn("missed to pass in variable ".concat(h," for interpolating ").concat(t)),l="";else typeof l!="string"&&!o.useRawValueToEscape&&(l=Ht(l));var S=_.safeValue(l);if(t=t.replace(s[0],S),p?(_.regex.lastIndex+=l.length,_.regex.lastIndex-=s[0].length):_.regex.lastIndex=0,c++,c>=o.maxReplaces)break}}),t}},{key:"nest",value:function(t,n){var r=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,l;function c(d,p){var v=this.nestingOptionsSeparator;if(d.indexOf(v)<0)return d;var _=d.split(new RegExp("".concat(v,"[ ]*{"))),h="{".concat(_[1]);d=_[0],h=this.interpolate(h,l);var b=h.match(/'/g),S=h.match(/"/g);(b&&b.length%2===0&&!S||S.length%2!==0)&&(h=h.replace(/'/g,'"'));try{l=JSON.parse(h),p&&(l=je(je({},p),l))}catch(L){return this.logger.warn("failed parsing options string in nesting for key ".concat(d),L),"".concat(d).concat(v).concat(h)}return delete l.defaultValue,d}for(;o=this.nestingRegexp.exec(t);){var u=[];l=je({},a),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var f=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var g=o[1].split(this.formatSeparator).map(function(d){return d.trim()});o[1]=g.shift(),u=g,f=!0}if(s=n(c.call(this,o[1].trim(),l),l),s&&o[0]===t&&typeof s!="string")return s;typeof s!="string"&&(s=Ht(s)),s||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(t)),s=""),f&&(s=u.reduce(function(d,p){return r.format(d,p,a.lng,je(je({},a),{},{interpolationkey:o[1].trim()}))},s.trim())),t=t.replace(o[0],s),this.regexp.lastIndex=0}return t}}]),i}();function er(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function Ve(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?er(Object(t),!0).forEach(function(n){Je(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function ta(i){var e=i.toLowerCase().trim(),t={};if(i.indexOf("(")>-1){var n=i.split("(");e=n[0].toLowerCase().trim();var r=n[1].substring(0,n[1].length-1);if(e==="currency"&&r.indexOf(":")<0)t.currency||(t.currency=r.trim());else if(e==="relativetime"&&r.indexOf(":")<0)t.range||(t.range=r.trim());else{var a=r.split(";");a.forEach(function(o){if(o){var s=o.split(":"),l=Dn(s),c=l[0],u=l.slice(1),f=u.join(":").trim().replace(/^'+|'+$/g,"");t[c.trim()]||(t[c.trim()]=f),f==="false"&&(t[c.trim()]=!1),f==="true"&&(t[c.trim()]=!0),isNaN(f)||(t[c.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:t}}function tt(i){var e={};return function(n,r,a){var o=r+JSON.stringify(a),s=e[o];return s||(s=i(r,a),e[o]=s),s(n)}}var ra=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ee(this,i),this.logger=Te.create("formatter"),this.options=e,this.formats={number:tt(function(t,n){var r=new Intl.NumberFormat(t,n);return function(a){return r.format(a)}}),currency:tt(function(t,n){var r=new Intl.NumberFormat(t,Ve(Ve({},n),{},{style:"currency"}));return function(a){return r.format(a)}}),datetime:tt(function(t,n){var r=new Intl.DateTimeFormat(t,Ve({},n));return function(a){return r.format(a)}}),relativetime:tt(function(t,n){var r=new Intl.RelativeTimeFormat(t,Ve({},n));return function(a){return r.format(a,n.range||"day")}}),list:tt(function(t,n){var r=new Intl.ListFormat(t,Ve({},n));return function(a){return r.format(a)}})},this.init(e)}return Ie(i,[{key:"init",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},r=n.interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}},{key:"add",value:function(t,n){this.formats[t.toLowerCase().trim()]=n}},{key:"addCached",value:function(t,n){this.formats[t.toLowerCase().trim()]=tt(n)}},{key:"format",value:function(t,n,r,a){var o=this,s=n.split(this.formatSeparator),l=s.reduce(function(c,u){var f=ta(u),g=f.formatName,d=f.formatOptions;if(o.formats[g]){var p=c;try{var v=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},_=v.locale||v.lng||a.locale||a.lng||r;p=o.formats[g](c,_,Ve(Ve(Ve({},d),a),v))}catch(h){o.logger.warn(h)}return p}else o.logger.warn("there was no format function for ".concat(g));return c},t);return l}}]),i}();function tr(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function rr(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?tr(Object(t),!0).forEach(function(n){Je(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):tr(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function na(i){var e=aa();return function(){var n=Ue(i),r;if(e){var a=Ue(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return lt(this,r)}}function aa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ia(i,e){i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)}var oa=function(i){bt(t,i);var e=na(t);function t(n,r,a){var o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Ee(this,t),o=e.call(this),yt&&Ge.call(He(o)),o.backend=n,o.store=r,o.services=a,o.languageUtils=a.languageUtils,o.options=s,o.logger=Te.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=s.maxParallelReads||10,o.readingCalls=0,o.maxRetries=s.maxRetries>=0?s.maxRetries:5,o.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(a,s.backend,s),o}return Ie(t,[{key:"queueLoad",value:function(r,a,o,s){var l=this,c={},u={},f={},g={};return r.forEach(function(d){var p=!0;a.forEach(function(v){var _="".concat(d,"|").concat(v);!o.reload&&l.store.hasResourceBundle(d,v)?l.state[_]=2:l.state[_]<0||(l.state[_]===1?u[_]===void 0&&(u[_]=!0):(l.state[_]=1,p=!1,u[_]===void 0&&(u[_]=!0),c[_]===void 0&&(c[_]=!0),g[v]===void 0&&(g[v]=!0)))}),p||(f[d]=!0)}),(Object.keys(c).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(c),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(g)}}},{key:"loaded",value:function(r,a,o){var s=r.split("|"),l=s[0],c=s[1];a&&this.emit("failedLoading",l,c,a),o&&this.store.addResourceBundle(l,c,o),this.state[r]=a?-1:2;var u={};this.queue.forEach(function(f){Fn(f.loaded,[l],c),ia(f,r),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(g){u[g]||(u[g]={});var d=f.loaded[g];d.length&&d.forEach(function(p){u[g][p]===void 0&&(u[g][p]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(r,a,o){var s=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!r.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:a,fcName:o,tried:l,wait:c,callback:u});return}this.readingCalls++;var f=function(v,_){if(s.readingCalls--,s.waitingReads.length>0){var h=s.waitingReads.shift();s.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(v&&_&&l<s.maxRetries){setTimeout(function(){s.read.call(s,r,a,o,l+1,c*2,u)},c);return}u(v,_)},g=this.backend[o].bind(this.backend);if(g.length===2){try{var d=g(r,a);d&&typeof d.then=="function"?d.then(function(p){return f(null,p)}).catch(f):f(null,d)}catch(p){f(p)}return}return g(r,a,f)}},{key:"prepareLoading",value:function(r,a){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof r=="string"&&(r=this.languageUtils.toResolveHierarchy(r)),typeof a=="string"&&(a=[a]);var c=this.queueLoad(r,a,s,l);if(!c.toLoad.length)return c.pending.length||l(),null;c.toLoad.forEach(function(u){o.loadOne(u)})}},{key:"load",value:function(r,a,o){this.prepareLoading(r,a,{},o)}},{key:"reload",value:function(r,a,o){this.prepareLoading(r,a,{reload:!0},o)}},{key:"loadOne",value:function(r){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=r.split("|"),l=s[0],c=s[1];this.read(l,c,"read",void 0,void 0,function(u,f){u&&a.logger.warn("".concat(o,"loading namespace ").concat(c," for language ").concat(l," failed"),u),!u&&f&&a.logger.log("".concat(o,"loaded namespace ").concat(c," for language ").concat(l),f),a.loaded(r,u,f)})}},{key:"saveMissing",value:function(r,a,o,s,l){var c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var f=rr(rr({},c),{},{isUpdate:l}),g=this.backend.create.bind(this.backend);if(g.length<6)try{var d;g.length===5?d=g(r,a,o,s,f):d=g(r,a,o,s),d&&typeof d.then=="function"?d.then(function(p){return u(null,p)}).catch(u):u(null,d)}catch(p){u(p)}else g(r,a,o,s,u,f)}!r||!r[0]||this.store.addResource(r[0],a,o,s)}}}]),t}(Ge);function nr(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if($e(e[1])==="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),$e(e[2])==="object"||$e(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(r){t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ar(i){return typeof i.ns=="string"&&(i.ns=[i.ns]),typeof i.fallbackLng=="string"&&(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS=="string"&&(i.fallbackNS=[i.fallbackNS]),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i}function ir(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function De(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ir(Object(t),!0).forEach(function(n){Je(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ir(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function sa(i){var e=la();return function(){var n=Ue(i),r;if(e){var a=Ue(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return lt(this,r)}}function la(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gt(){}function ua(i){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(i));e.forEach(function(t){typeof i[t]=="function"&&(i[t]=i[t].bind(i))})}var vt=function(i){bt(t,i);var e=sa(t);function t(){var n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Ee(this,t),n=e.call(this),yt&&Ge.call(He(n)),n.options=ar(r),n.services={},n.logger=Te,n.modules={external:[]},ua(He(n)),a&&!n.isInitialized&&!r.isClone){if(!n.options.initImmediate)return n.init(r,a),lt(n,He(n));setTimeout(function(){n.init(r,a)},0)}return n}return Ie(t,[{key:"init",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var s=nr();this.options=De(De(De({},s),this.options),ar(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=De(De({},s.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function l(h){return h?typeof h=="function"?new h:h:null}if(!this.options.isClone){this.modules.logger?Te.init(l(this.modules.logger),this.options):Te.init(null,this.options);var c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=ra);var u=new Qt(this.options);this.store=new Wn(this.options.resources,this.options);var f=this.services;f.logger=Te,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new Zn(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(f.formatter=l(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new ea(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new oa(l(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(h){for(var b=arguments.length,S=new Array(b>1?b-1:0),L=1;L<b;L++)S[L-1]=arguments[L];r.emit.apply(r,[h].concat(S))}),this.modules.languageDetector&&(f.languageDetector=l(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=l(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Xt(this.services,this.options),this.translator.on("*",function(h){for(var b=arguments.length,S=new Array(b>1?b-1:0),L=1;L<b;L++)S[L-1]=arguments[L];r.emit.apply(r,[h].concat(S))}),this.modules.external.forEach(function(h){h.init&&h.init(r)})}if(this.format=this.options.interpolation.format,o||(o=gt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var d=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];d.forEach(function(h){r[h]=function(){var b;return(b=r.store)[h].apply(b,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(h){r[h]=function(){var b;return(b=r.store)[h].apply(b,arguments),r}});var v=it(),_=function(){var b=function(L,G){r.isInitialized&&!r.initializedStoreOnce&&r.logger.warn("init: i18next is already initialized. You should call init just once!"),r.isInitialized=!0,r.options.isClone||r.logger.log("initialized",r.options),r.emit("initialized",r.options),v.resolve(G),o(L,G)};if(r.languages&&r.options.compatibilityAPI!=="v1"&&!r.isInitialized)return b(null,r.t.bind(r));r.changeLanguage(r.options.lng,b)};return this.options.resources||!this.options.initImmediate?_():setTimeout(_,0),v}},{key:"loadResources",value:function(r){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gt,s=o,l=typeof r=="string"?r:this.language;if(typeof r=="function"&&(s=r),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return s();var c=[],u=function(d){if(d){var p=a.services.languageUtils.toResolveHierarchy(d);p.forEach(function(v){c.indexOf(v)<0&&c.push(v)})}};if(l)u(l);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(g){return u(g)})}this.options.preload&&this.options.preload.forEach(function(g){return u(g)}),this.services.backendConnector.load(c,this.options.ns,function(g){!g&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),s(g)})}else s(null)}},{key:"reloadResources",value:function(r,a,o){var s=it();return r||(r=this.languages),a||(a=this.options.ns),o||(o=gt),this.services.backendConnector.reload(r,a,function(l){s.resolve(),o(l)}),s}},{key:"use",value:function(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&Ar.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}},{key:"setResolvedLanguage",value:function(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1))for(var a=0;a<this.languages.length;a++){var o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(r,a){var o=this;this.isLanguageChangingTo=r;var s=it();this.emit("languageChanging",r);var l=function(g){o.language=g,o.languages=o.services.languageUtils.toResolveHierarchy(g),o.resolvedLanguage=void 0,o.setResolvedLanguage(g)},c=function(g,d){d?(l(d),o.translator.changeLanguage(d),o.isLanguageChangingTo=void 0,o.emit("languageChanged",d),o.logger.log("languageChanged",d)):o.isLanguageChangingTo=void 0,s.resolve(function(){return o.t.apply(o,arguments)}),a&&a(g,function(){return o.t.apply(o,arguments)})},u=function(g){!r&&!g&&o.services.languageDetector&&(g=[]);var d=typeof g=="string"?g:o.services.languageUtils.getBestMatchFromCodes(g);d&&(o.language||l(d),o.translator.language||o.translator.changeLanguage(d),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(d)),o.loadResources(d,function(p){c(p,d)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(r),s}},{key:"getFixedT",value:function(r,a,o){var s=this,l=function c(u,f){var g;if($e(f)!=="object"){for(var d=arguments.length,p=new Array(d>2?d-2:0),v=2;v<d;v++)p[v-2]=arguments[v];g=s.options.overloadTranslationOptionHandler([u,f].concat(p))}else g=De({},f);g.lng=g.lng||c.lng,g.lngs=g.lngs||c.lngs,g.ns=g.ns||c.ns,g.keyPrefix=g.keyPrefix||o||c.keyPrefix;var _=s.options.keySeparator||".",h;return g.keyPrefix&&Array.isArray(u)?h=u.map(function(b){return"".concat(g.keyPrefix).concat(_).concat(b)}):h=g.keyPrefix?"".concat(g.keyPrefix).concat(_).concat(u):u,s.t(h,g)};return typeof r=="string"?l.lng=r:l.lngs=r,l.ns=a,l.keyPrefix=o,l}},{key:"t",value:function(){var r;return this.translator&&(r=this.translator).translate.apply(r,arguments)}},{key:"exists",value:function(){var r;return this.translator&&(r=this.translator).exists.apply(r,arguments)}},{key:"setDefaultNamespace",value:function(r){this.options.defaultNS=r}},{key:"hasLoadedNamespace",value:function(r){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var u=function(d,p){var v=a.services.backendConnector.state["".concat(d,"|").concat(p)];return v===-1||v===2};if(o.precheck){var f=o.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(s,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(s,r)&&(!l||u(c,r)))}},{key:"loadNamespaces",value:function(r,a){var o=this,s=it();return this.options.ns?(typeof r=="string"&&(r=[r]),r.forEach(function(l){o.options.ns.indexOf(l)<0&&o.options.ns.push(l)}),this.loadResources(function(l){s.resolve(),a&&a(l)}),s):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(r,a){var o=it();typeof r=="string"&&(r=[r]);var s=this.options.preload||[],l=r.filter(function(c){return s.indexOf(c)<0});return l.length?(this.options.preload=s.concat(l),this.loadResources(function(c){o.resolve(),a&&a(c)}),o):(a&&a(),Promise.resolve())}},{key:"dir",value:function(r){if(r||(r=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!r)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Qt(nr());return a.indexOf(o.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gt,s=De(De(De({},this.options),a),{isClone:!0}),l=new t(s);(a.debug!==void 0||a.prefix!==void 0)&&(l.logger=l.logger.clone(a));var c=["store","services","language"];return c.forEach(function(u){l[u]=r[u]}),l.services=De({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new Xt(l.services,l.options),l.translator.on("*",function(u){for(var f=arguments.length,g=new Array(f>1?f-1:0),d=1;d<f;d++)g[d-1]=arguments[d];l.emit.apply(l,[u].concat(g))}),l.init(s,o),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),t}(Ge);Je(vt,"createInstance",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new vt(i,e)});var he=vt.createInstance();he.createInstance=vt.createInstance;he.createInstance;he.dir;he.init;he.loadResources;he.reloadResources;he.use;he.changeLanguage;he.getFixedT;he.t;he.exists;he.setDefaultNamespace;he.hasLoadedNamespace;he.loadNamespaces;he.loadLanguages;var Fr=[],ca=Fr.forEach,fa=Fr.slice;function ga(i){return ca.call(fa.call(arguments,1),function(e){if(e)for(var t in e)i[t]===void 0&&(i[t]=e[t])}),i}var or=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,pa=function(e,t,n){var r=n||{};r.path=r.path||"/";var a=encodeURIComponent(t),o="".concat(e,"=").concat(a);if(r.maxAge>0){var s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(s))}if(r.domain){if(!or.test(r.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(r.domain)}if(r.path){if(!or.test(r.path))throw new TypeError("option path is invalid");o+="; Path=".concat(r.path)}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite){var l=typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite;switch(l){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return o},sr={create:function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),r&&(a.domain=r),document.cookie=pa(e,encodeURIComponent(t),a)},read:function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove:function(e){this.create(e,"",-1)}},da={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&typeof document<"u"){var n=sr.read(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&typeof document<"u"&&sr.create(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},ha={name:"querystring",lookup:function(e){var t;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var r=n.substring(1),a=r.split("&"),o=0;o<a.length;o++){var s=a[o].indexOf("=");if(s>0){var l=a[o].substring(0,s);l===e.lookupQuerystring&&(t=a[o].substring(s+1))}}}return t}},ot=null,lr=function(){if(ot!==null)return ot;try{ot=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{ot=!1}return ot},ma={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&lr()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&lr()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},st=null,ur=function(){if(st!==null)return st;try{st=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{st=!1}return st},va={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&ur()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&ur()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},ba={name:"navigator",lookup:function(e){var t=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},ya={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(t=n.getAttribute("lang")),t}},_a={name:"path",lookup:function(e){var t;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},wa={name:"subdomain",lookup:function(e){var t=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};function ka(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var Br=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ee(this,i),this.type="languageDetector",this.detectors={},this.init(e,t)}return Ie(i,[{key:"init",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=ga(n,this.options||{},ka()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(da),this.addDetector(ha),this.addDetector(ma),this.addDetector(va),this.addDetector(ba),this.addDetector(ya),this.addDetector(_a),this.addDetector(wa)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var n=this;t||(t=this.options.order);var r=[];return t.forEach(function(a){if(n.detectors[a]){var o=n.detectors[a].lookup(n.options);o&&typeof o=="string"&&(o=[o]),o&&(r=r.concat(o))}}),this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}},{key:"cacheUserLanguage",value:function(t,n){var r=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(function(a){r.detectors[a]&&r.detectors[a].cacheUserLanguage(t,r.options)}))}}]),i}();Br.type="languageDetector";const Oa={common:{uploadYourPhotos:"Upload your photos",payment:"Payment",trainTheAI:"Train the AI"}};var Mr={},_t={},jt={};const Sa=en(tn);(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.I18NextTranslationStore=i.isLoading=void 0;const e=Sa;i.isLoading=(0,e.writable)(!0);class t{constructor(r){this.i18n=this.createInstance(r),this.isLoading=this.createLoadingInstance(r)}createInstance(r){const a=(0,e.writable)(r);return r.on("initialized",()=>{a.set(r)}),r.on("loaded",()=>{a.set(r)}),r.on("added",()=>a.set(r)),r.on("languageChanged",()=>{a.set(r)}),a}createLoadingInstance(r){return r.on("loaded",a=>{Object.keys(a).length!==0&&i.isLoading.set(!1)}),r.on("failedLoading",()=>{i.isLoading.set(!0)}),i.isLoading}}i.I18NextTranslationStore=t})(jt);Object.defineProperty(_t,"__esModule",{value:!0});_t.createI18nStore=void 0;const Pa=jt,La=i=>new Pa.I18NextTranslationStore(i).i18n;_t.createI18nStore=La;(function(i){var e=ut&&ut.__createBinding||(Object.create?function(n,r,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(r,a);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(n,o,s)}:function(n,r,a,o){o===void 0&&(o=a),n[o]=r[a]}),t=ut&&ut.__exportStar||function(n,r){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&e(r,n,a)};Object.defineProperty(i,"__esModule",{value:!0}),t(_t,i),t(jt,i)})(Mr);const xa={en:Oa};he.use(Br).init({interpolation:{escapeValue:!1},detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"],lookupQuerystring:"lng",lookupLocalStorage:"locale"},resources:xa,defaultNS:"common",fallbackLng:"en"});const Ra=Mr.createI18nStore(he);function cr(i,e,t){const n=i.slice();return n[33]=e[t],n[35]=t,n}function fr(i,e,t){const n=i.slice();return n[33]=e[t],n[35]=t,n}function gr(i,e,t){const n=i.slice();return n[33]=e[t],n[35]=t,n}function pr(i){let e,t,n=i[10].t("uploadYourPhotos")+"",r,a,o,s=i[10].t("payment")+"",l,c,u,f,g,d,p,v,_,h,b,S,L,G,U,x,R,N,K,le,me,q,ie,ge,ce,re,oe,j,H,z,X,te,J,se;const pe=[$a,ja],fe=[];function Pe(O,B){return!O[2].trained&&!O[2].in_training?0:1}p=Pe(i),v=fe[p]=pe[p](i);let Q=!i[2].trained&&!i[2].in_training&&dr(i);const Re=[Da,Na],ue=[];function de(O,B){return O[5]?0:O[0]&&O[0].length>0?1:-1}~(S=de(i))&&(L=ue[S]=Re[S](i)),x=new pt({props:{class:"mb-4",$$slots:{default:[Ta]},$$scope:{ctx:i}}});const m=[Fa,Aa,Ua],w=[];function k(O,B){return O[2].paid==null?0:O[2].paid?1:2}K=k(i),le=w[K]=m[K](i),ie=new pt({props:{$$slots:{default:[za]},$$scope:{ctx:i}}});const I=[Ka,Ha,Va],W=[];function F(O,B){return O[6]?0:O[8].length>0?1:2}re=F(i),oe=W[re]=I[re](i);let V=!i[2].trained&&!i[2].in_training&&_r(i);const Y=[Qa,Xa],Le=[];function $t(O,B){return!O[2].trained&&O[2].counter>50?0:1}return te=$t(i),J=Le[te]=Y[te](i),{c(){e=D("ul"),t=D("li"),r=ne(n),a=Z(),o=D("li"),l=ne(s),c=Z(),u=D("li"),f=ne("Generate your avatars"),g=Z(),d=D("div"),v.c(),_=Z(),h=D("div"),Q&&Q.c(),b=Z(),L&&L.c(),G=Z(),U=D("div"),ye(x.$$.fragment),R=Z(),N=D("div"),le.c(),me=Z(),q=D("div"),ye(ie.$$.fragment),ge=Z(),ce=D("div"),oe.c(),j=Z(),V&&V.c(),H=Z(),z=D("div"),X=Z(),J.c(),this.h()},l(O){e=T(O,"UL",{class:!0});var B=M(e);t=T(B,"LI",{class:!0});var Qe=M(t);r=ae(Qe,n),Qe.forEach(y),a=ee(B),o=T(B,"LI",{class:!0});var qe=M(o);l=ae(qe,s),qe.forEach(y),c=ee(B),u=T(B,"LI",{class:!0});var nt=M(u);f=ae(nt,"Generate your avatars"),nt.forEach(y),B.forEach(y),g=ee(O),d=T(O,"DIV",{tabindex:!0,role:!0,class:!0,style:!0});var Me=M(d);v.l(Me),_=ee(Me),h=T(Me,"DIV",{class:!0});var Ye=M(h);Q&&Q.l(Ye),b=ee(Ye),L&&L.l(Ye),Ye.forEach(y),Me.forEach(y),G=ee(O),U=T(O,"DIV",{class:!0,style:!0});var ze=M(U);_e(x.$$.fragment,ze),R=ee(ze),N=T(ze,"DIV",{class:!0});var Ze=M(N);le.l(Ze),Ze.forEach(y),ze.forEach(y),me=ee(O),q=T(O,"DIV",{class:!0,style:!0});var Ce=M(q);_e(ie.$$.fragment,Ce),ge=ee(Ce),ce=T(Ce,"DIV",{class:!0});var Et=M(ce);oe.l(Et),Et.forEach(y),j=ee(Ce),V&&V.l(Ce),H=ee(Ce),z=T(Ce,"DIV",{class:!0}),M(z).forEach(y),X=ee(Ce),J.l(Ce),Ce.forEach(y),this.h()},h(){P(t,"class","step"),Ne(t,"step-primary",i[0]&&i[0].length>0||i[2].in_training||i[2].trained),P(o,"class","step"),Ne(o,"step-primary",!!i[2].paid),P(u,"class","step"),Ne(u,"step-primary",!!i[2].paid&&i[8].length>0),P(e,"class","steps text-xs sm:text-base"),P(h,"class","collapse-content flex flex-col items-center gap-4 overflow-hidden"),P(d,"tabindex","0"),P(d,"role","button"),P(d,"class","collapse collapse-arrow w-full bg-black shadow rounded-lg p-6 flex flex-col items-center gap-4"),wt(d,"background-color","#191b1c"),Ne(d,"collapse-open",i[1]),Ne(d,"collapse-close",!i[1]),P(N,"class","flex flex-row justify-center w-full"),P(U,"class","w-full bg-black shadow rounded-lg p-6 flex flex-col items-center gap-4"),wt(U,"background-color","#191b1c"),P(ce,"class","flex flex-row justify-center gap-4 flex-wrap w-full"),P(z,"class","divider -mb-2"),P(q,"class","w-full bg-black shadow rounded-lg p-6 flex flex-col items-center gap-4 overflow-hidden"),wt(q,"background-color","#191b1c")},m(O,B){C(O,e,B),$(e,t),$(t,r),$(e,a),$(e,o),$(o,l),$(e,c),$(e,u),$(u,f),C(O,g,B),C(O,d,B),fe[p].m(d,null),$(d,_),$(d,h),Q&&Q.m(h,null),$(h,b),~S&&ue[S].m(h,null),C(O,G,B),C(O,U,B),we(x,U,null),$(U,R),$(U,N),w[K].m(N,null),C(O,me,B),C(O,q,B),we(ie,q,null),$(q,ge),$(q,ce),W[re].m(ce,null),$(q,j),V&&V.m(q,null),$(q,H),$(q,z),$(q,X),Le[te].m(q,null),se=!0},p(O,B){(!se||B[0]&1024)&&n!==(n=O[10].t("uploadYourPhotos")+"")&&St(r,n),(!se||B[0]&5)&&Ne(t,"step-primary",O[0]&&O[0].length>0||O[2].in_training||O[2].trained),(!se||B[0]&1024)&&s!==(s=O[10].t("payment")+"")&&St(l,s),(!se||B[0]&4)&&Ne(o,"step-primary",!!O[2].paid),(!se||B[0]&260)&&Ne(u,"step-primary",!!O[2].paid&&O[8].length>0);let Qe=p;p=Pe(O),p===Qe?fe[p].p(O,B):(Oe(),A(fe[Qe],1,1,()=>{fe[Qe]=null}),Se(),v=fe[p],v?v.p(O,B):(v=fe[p]=pe[p](O),v.c()),E(v,1),v.m(d,_)),!O[2].trained&&!O[2].in_training?Q?(Q.p(O,B),B[0]&4&&E(Q,1)):(Q=dr(O),Q.c(),E(Q,1),Q.m(h,b)):Q&&(Oe(),A(Q,1,1,()=>{Q=null}),Se());let qe=S;S=de(O),S===qe?~S&&ue[S].p(O,B):(L&&(Oe(),A(ue[qe],1,1,()=>{ue[qe]=null}),Se()),~S?(L=ue[S],L?L.p(O,B):(L=ue[S]=Re[S](O),L.c()),E(L,1),L.m(h,null)):L=null),(!se||B[0]&2)&&Ne(d,"collapse-open",O[1]),(!se||B[0]&2)&&Ne(d,"collapse-close",!O[1]);const nt={};B[1]&128&&(nt.$$scope={dirty:B,ctx:O}),x.$set(nt);let Me=K;K=k(O),K!==Me&&(Oe(),A(w[Me],1,1,()=>{w[Me]=null}),Se(),le=w[K],le||(le=w[K]=m[K](O),le.c()),E(le,1),le.m(N,null));const Ye={};B[0]&4|B[1]&128&&(Ye.$$scope={dirty:B,ctx:O}),ie.$set(Ye);let ze=re;re=F(O),re===ze?W[re].p(O,B):(Oe(),A(W[ze],1,1,()=>{W[ze]=null}),Se(),oe=W[re],oe?oe.p(O,B):(oe=W[re]=I[re](O),oe.c()),E(oe,1),oe.m(ce,null)),!O[2].trained&&!O[2].in_training?V?V.p(O,B):(V=_r(O),V.c(),V.m(q,H)):V&&(V.d(1),V=null);let Ze=te;te=$t(O),te===Ze?Le[te].p(O,B):(Oe(),A(Le[Ze],1,1,()=>{Le[Ze]=null}),Se(),J=Le[te],J?J.p(O,B):(J=Le[te]=Y[te](O),J.c()),E(J,1),J.m(q,null))},i(O){se||(E(v),E(Q),E(L),E(x.$$.fragment,O),E(le),E(ie.$$.fragment,O),E(oe),E(J),se=!0)},o(O){A(v),A(Q),A(L),A(x.$$.fragment,O),A(le),A(ie.$$.fragment,O),A(oe),A(J),se=!1},d(O){O&&y(e),O&&y(g),O&&y(d),fe[p].d(),Q&&Q.d(),~S&&ue[S].d(),O&&y(G),O&&y(U),ke(x),w[K].d(),O&&y(me),O&&y(q),ke(ie),W[re].d(),V&&V.d(),Le[te].d()}}}function ja(i){let e,t;return e=new pt({props:{class:"collapse-title",$$slots:{default:[Ea]},$$scope:{ctx:i}}}),e.$on("click",i[17]),{c(){ye(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,r){we(e,n,r),t=!0},p(n,r){const a={};r[1]&128&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function $a(i){let e,t;return e=new pt({props:{class:"collapse-title",$$slots:{default:[Ia]},$$scope:{ctx:i}}}),e.$on("click",i[16]),{c(){ye(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,r){we(e,n,r),t=!0},p(n,r){const a={};r[1]&128&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function Ea(i){let e;return{c(){e=ne("Photos for training")},l(t){e=ae(t,"Photos for training")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Ia(i){let e;return{c(){e=ne("Upload your photos")},l(t){e=ae(t,"Upload your photos")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function dr(i){let e,t,n,r,a,o,s,l,c,u,f,g,d,p,v,_,h,b,S,L;function G(x){i[18](x)}let U={accept:"image/*",type:"file",name:"photos",multiple:!0};return i[4]!==void 0&&(U.input=i[4]),l=new qr({props:U}),Kr.push(()=>Wr(l,"input",G,i[4])),h=new Be({props:{size:"medium",type:"submit",disabled:i[2].in_training,loading:i[3],animated:!0,$$slots:{default:[Ca]},$$scope:{ctx:i}}}),{c(){e=D("img"),n=Z(),r=D("img"),o=Z(),s=D("form"),ye(l.$$.fragment),u=Z(),f=D("p"),g=ne(`It is necessary to upload at least 15 photos (ideally at least a dozen) where your face
							is clearly visible from multiple angles.`),d=Z(),p=D("p"),v=ne(`Do not upload the same photo multiple times, as the AI needs to have different photos
							to learn from.`),_=Z(),ye(h.$$.fragment),this.h()},l(x){e=T(x,"IMG",{class:!0,src:!0,alt:!0}),n=ee(x),r=T(x,"IMG",{class:!0,src:!0,alt:!0}),o=ee(x),s=T(x,"FORM",{class:!0});var R=M(s);_e(l.$$.fragment,R),u=ee(R),f=T(R,"P",{class:!0});var N=M(f);g=ae(N,`It is necessary to upload at least 15 photos (ideally at least a dozen) where your face
							is clearly visible from multiple angles.`),N.forEach(y),d=ee(R),p=T(R,"P",{class:!0});var K=M(p);v=ae(K,`Do not upload the same photo multiple times, as the AI needs to have different photos
							to learn from.`),K.forEach(y),_=ee(R),_e(h.$$.fragment,R),R.forEach(y),this.h()},h(){P(e,"class","h-40 rounded-lg object-cover"),Ke(e.src,t="1.jpeg")||P(e,"src",t),P(e,"alt","Style Avatar"),P(r,"class","h-40 rounded-lg object-cover"),Ke(r.src,a="2.jpeg")||P(r,"src",a),P(r,"alt","Style Avatar"),P(f,"class","italic text-xs max-w-xs"),P(p,"class","italic text-xs text-red-700 max-w-xs"),P(s,"class","w-full flex flex-col items-center gap-4")},m(x,R){C(x,e,R),C(x,n,R),C(x,r,R),C(x,o,R),C(x,s,R),we(l,s,null),$(s,u),$(s,f),$(f,g),$(s,d),$(s,p),$(p,v),$(s,_),we(h,s,null),b=!0,S||(L=Ir(s,"submit",Gr(i[11])),S=!0)},p(x,R){const N={};!c&&R[0]&16&&(c=!0,N.input=x[4],Jr(()=>c=!1)),l.$set(N);const K={};R[0]&4&&(K.disabled=x[2].in_training),R[0]&8&&(K.loading=x[3]),R[1]&128&&(K.$$scope={dirty:R,ctx:x}),h.$set(K)},i(x){b||(E(l.$$.fragment,x),E(h.$$.fragment,x),b=!0)},o(x){A(l.$$.fragment,x),A(h.$$.fragment,x),b=!1},d(x){x&&y(e),x&&y(n),x&&y(r),x&&y(o),x&&y(s),ke(l),ke(h),S=!1,L()}}}function Ca(i){let e;return{c(){e=ne("Upload")},l(t){e=ae(t,"Upload")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Na(i){let e,t,n,r=i[0],a=[];for(let s=0;s<r.length;s+=1)a[s]=mr(gr(i,r,s));const o=s=>A(a[s],1,1,()=>{a[s]=null});return{c(){e=D("div"),t=D("div");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){e=T(s,"DIV",{class:!0});var l=M(e);t=T(l,"DIV",{class:!0});var c=M(t);for(let u=0;u<a.length;u+=1)a[u].l(c);c.forEach(y),l.forEach(y),this.h()},h(){P(t,"class","flex flex-row justify-center bg-neutral gap-2 p-2 flex-wrap max-h-[40vh] overflow-y-auto overflow-x-hidden rounded-md"),P(e,"class","flex flex-col items-center")},m(s,l){C(s,e,l),$(e,t);for(let c=0;c<a.length;c+=1)a[c].m(t,null);n=!0},p(s,l){if(l[0]&16389){r=s[0];let c;for(c=0;c<r.length;c+=1){const u=gr(s,r,c);a[c]?(a[c].p(u,l),E(a[c],1)):(a[c]=mr(u),a[c].c(),E(a[c],1),a[c].m(t,null))}for(Oe(),c=r.length;c<a.length;c+=1)o(c);Se()}},i(s){if(!n){for(let l=0;l<r.length;l+=1)E(a[l]);n=!0}},o(s){a=a.filter(Boolean);for(let l=0;l<a.length;l+=1)A(a[l]);n=!1},d(s){s&&y(e),Pt(a,s)}}}function Da(i){let e;return{c(){e=D("progress"),this.h()},l(t){e=T(t,"PROGRESS",{class:!0}),M(e).forEach(y),this.h()},h(){P(e,"class","progress")},m(t,n){C(t,e,n)},p:be,i:be,o:be,d(t){t&&y(e)}}}function hr(i){let e,t;function n(){return i[19](i[35])}return e=new Be({props:{class:"absolute -right-2 -top-2 text-white opacity-0 group-hover:opacity-100 z-10",icon:"close",size:"small",circle:!0,primary:!0}}),e.$on("click",n),{c(){ye(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,a){we(e,r,a),t=!0},p(r,a){i=r},i(r){t||(E(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){ke(e,r)}}}function mr(i){let e,t,n,r,a,o,s,l=!i[2].in_training&&!i[2].trained&&hr(i);return{c(){e=D("div"),t=D("img"),a=Z(),l&&l.c(),o=Z(),this.h()},l(c){e=T(c,"DIV",{class:!0});var u=M(e);t=T(u,"IMG",{src:!0,loading:!0,alt:!0,class:!0}),a=ee(u),l&&l.l(u),o=ee(u),u.forEach(y),this.h()},h(){Ke(t.src,n=i[33].url)||P(t,"src",n),P(t,"loading","eager"),P(t,"alt",r=i[33].name),P(t,"class","aspect-square h-24"),P(e,"class","relative group")},m(c,u){C(c,e,u),$(e,t),$(e,a),l&&l.m(e,null),$(e,o),s=!0},p(c,u){(!s||u[0]&1&&!Ke(t.src,n=c[33].url))&&P(t,"src",n),(!s||u[0]&1&&r!==(r=c[33].name))&&P(t,"alt",r),!c[2].in_training&&!c[2].trained?l?(l.p(c,u),u[0]&4&&E(l,1)):(l=hr(c),l.c(),E(l,1),l.m(e,o)):l&&(Oe(),A(l,1,1,()=>{l=null}),Se())},i(c){s||(E(l),s=!0)},o(c){A(l),s=!1},d(c){c&&y(e),l&&l.d()}}}function Ta(i){let e;return{c(){e=ne("Pay with Stripe")},l(t){e=ae(t,"Pay with Stripe")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Ua(i){let e,t;return e=new Be({props:{size:"medium",link:"/checkout",animated:!0,$$slots:{default:[Ba]},$$scope:{ctx:i}}}),{c(){ye(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,r){we(e,n,r),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function Aa(i){let e,t;return e=new Be({props:{size:"small",disabled:!0,$$slots:{default:[Ma]},$$scope:{ctx:i}}}),{c(){ye(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,r){we(e,n,r),t=!0},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function Fa(i){let e;return{c(){e=D("progress"),this.h()},l(t){e=T(t,"PROGRESS",{class:!0}),M(e).forEach(y),this.h()},h(){P(e,"class","progress")},m(t,n){C(t,e,n)},i:be,o:be,d(t){t&&y(e)}}}function Ba(i){let e;return{c(){e=ne("Pay now")},l(t){e=ae(t,"Pay now")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Ma(i){let e;return{c(){e=ne("Paid")},l(t){e=ae(t,"Paid")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function za(i){let e,t=i[2].counter+"",n,r;return{c(){e=ne("Generate your avatars ("),n=ne(t),r=ne(")")},l(a){e=ae(a,"Generate your avatars ("),n=ae(a,t),r=ae(a,")")},m(a,o){C(a,e,o),C(a,n,o),C(a,r,o)},p(a,o){o[0]&4&&t!==(t=a[2].counter+"")&&St(n,t)},d(a){a&&y(e),a&&y(n),a&&y(r)}}}function Va(i){let e,t;return{c(){e=D("p"),t=ne("There are not yet any images present."),this.h()},l(n){e=T(n,"P",{class:!0});var r=M(e);t=ae(r,"There are not yet any images present."),r.forEach(y),this.h()},h(){P(e,"class","italic text-xs")},m(n,r){C(n,e,r),$(e,t)},p:be,i:be,o:be,d(n){n&&y(e)}}}function Ha(i){let e,t,n,r,a,o=i[8],s=[];for(let g=0;g<o.length;g+=1)s[g]=vr(fr(i,o,g));const l=g=>A(s[g],1,1,()=>{s[g]=null});let c=i[8],u=[];for(let g=0;g<c.length;g+=1)u[g]=yr(cr(i,c,g));const f=g=>A(u[g],1,1,()=>{u[g]=null});return{c(){e=D("div");for(let g=0;g<s.length;g+=1)s[g].c();t=Z(),n=D("div"),r=D("div");for(let g=0;g<u.length;g+=1)u[g].c();this.h()},l(g){e=T(g,"DIV",{class:!0});var d=M(e);for(let _=0;_<s.length;_+=1)s[_].l(d);d.forEach(y),t=ee(g),n=T(g,"DIV",{class:!0});var p=M(n);r=T(p,"DIV",{class:!0});var v=M(r);for(let _=0;_<u.length;_+=1)u[_].l(v);v.forEach(y),p.forEach(y),this.h()},h(){P(e,"class","carousel carousel-center w-full p-8 space-x-4 bg-neutral rounded-box"),P(r,"class","flex flex-row justify-center bg-neutral gap-2 p-2 flex-wrap max-h-[40vh] overflow-y-auto overflow-x-hidden rounded-md"),P(n,"class","flex flex-col items-center")},m(g,d){C(g,e,d);for(let p=0;p<s.length;p+=1)s[p].m(e,null);C(g,t,d),C(g,n,d),$(n,r);for(let p=0;p<u.length;p+=1)u[p].m(r,null);a=!0},p(g,d){if(d[0]&33024){o=g[8];let p;for(p=0;p<o.length;p+=1){const v=fr(g,o,p);s[p]?(s[p].p(v,d),E(s[p],1)):(s[p]=vr(v),s[p].c(),E(s[p],1),s[p].m(e,null))}for(Oe(),p=o.length;p<s.length;p+=1)l(p);Se()}if(d[0]&33024){c=g[8];let p;for(p=0;p<c.length;p+=1){const v=cr(g,c,p);u[p]?(u[p].p(v,d),E(u[p],1)):(u[p]=yr(v),u[p].c(),E(u[p],1),u[p].m(r,null))}for(Oe(),p=c.length;p<u.length;p+=1)f(p);Se()}},i(g){if(!a){for(let d=0;d<o.length;d+=1)E(s[d]);for(let d=0;d<c.length;d+=1)E(u[d]);a=!0}},o(g){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)A(s[d]);u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)A(u[d]);a=!1},d(g){g&&y(e),Pt(s,g),g&&y(t),g&&y(n),Pt(u,g)}}}function Ka(i){let e;return{c(){e=D("progress"),this.h()},l(t){e=T(t,"PROGRESS",{class:!0}),M(e).forEach(y),this.h()},h(){P(e,"class","progress")},m(t,n){C(t,e,n)},p:be,i:be,o:be,d(t){t&&y(e)}}}function Wa(i){let e,t;return{c(){e=D("div"),t=D("progress"),this.h()},l(n){e=T(n,"DIV",{class:!0});var r=M(e);t=T(r,"PROGRESS",{class:!0}),M(t).forEach(y),r.forEach(y),this.h()},h(){P(t,"class","progress w-56"),P(e,"class","aspect-square max-w-[60vw] bg-slate-300 flex items-center justify-center p-8 rounded-md")},m(n,r){C(n,e,r),$(e,t)},p:be,i:be,o:be,d(n){n&&y(e)}}}function Ga(i){let e,t,n,r,a,o,s;function l(){return i[20](i[35])}r=new Be({props:{class:"absolute right-3 top-3 text-white opacity-0 group-hover:opacity-100",icon:"close",size:"small",circle:!0,primary:!0}}),r.$on("click",l);function c(){return i[21](i[33])}return o=new Be({props:{class:"absolute right-3 bottom-3 text-white opacity-0 group-hover:opacity-100",icon:"download",size:"small",circle:!0,primary:!0,target:"_blank"}}),o.$on("click",c),{c(){e=D("img"),n=Z(),ye(r.$$.fragment),a=Z(),ye(o.$$.fragment),this.h()},l(u){e=T(u,"IMG",{src:!0,loading:!0,alt:!0,class:!0}),n=ee(u),_e(r.$$.fragment,u),a=ee(u),_e(o.$$.fragment,u),this.h()},h(){Ke(e.src,t=i[33].url)||P(e,"src",t),P(e,"loading","eager"),P(e,"alt",""),P(e,"class","aspect-square rounded-box max-w-[60vw]")},m(u,f){C(u,e,f),C(u,n,f),we(r,u,f),C(u,a,f),we(o,u,f),s=!0},p(u,f){i=u,(!s||f[0]&256&&!Ke(e.src,t=i[33].url))&&P(e,"src",t)},i(u){s||(E(r.$$.fragment,u),E(o.$$.fragment,u),s=!0)},o(u){A(r.$$.fragment,u),A(o.$$.fragment,u),s=!1},d(u){u&&y(e),u&&y(n),ke(r,u),u&&y(a),ke(o,u)}}}function vr(i){let e,t,n,r,a;const o=[Ga,Wa],s=[];function l(c,u){return c[33].complete?0:1}return t=l(i),n=s[t]=o[t](i),{c(){e=D("div"),n.c(),r=Z(),this.h()},l(c){e=T(c,"DIV",{class:!0,id:!0});var u=M(e);n.l(u),r=ee(u),u.forEach(y),this.h()},h(){P(e,"class","carousel-item relative group aspect-square"),P(e,"id",`photo_${i[35]}`)},m(c,u){C(c,e,u),s[t].m(e,null),$(e,r),a=!0},p(c,u){let f=t;t=l(c),t===f?s[t].p(c,u):(Oe(),A(s[f],1,1,()=>{s[f]=null}),Se(),n=s[t],n?n.p(c,u):(n=s[t]=o[t](c),n.c()),E(n,1),n.m(e,r))},i(c){a||(E(n),a=!0)},o(c){A(n),a=!1},d(c){c&&y(e),s[t].d()}}}function Ja(i){let e,t;return{c(){e=D("div"),t=D("progress"),this.h()},l(n){e=T(n,"DIV",{class:!0});var r=M(e);t=T(r,"PROGRESS",{class:!0}),M(t).forEach(y),r.forEach(y),this.h()},h(){P(t,"class","progress"),P(e,"class","aspect-square h-24 bg-slate-300 flex items-center justify-center p-4 rounded-sm")},m(n,r){C(n,e,r),$(e,t)},p:be,d(n){n&&y(e)}}}function Ya(i){let e,t;return{c(){e=D("img"),this.h()},l(n){e=T(n,"IMG",{src:!0,loading:!0,class:!0}),this.h()},h(){Ke(e.src,t=i[33].url)||P(e,"src",t),P(e,"loading","eager"),P(e,"class","aspect-square h-24")},m(n,r){C(n,e,r)},p(n,r){r[0]&256&&!Ke(e.src,t=n[33].url)&&P(e,"src",t)},d(n){n&&y(e)}}}function br(i){let e,t;function n(){return i[22](i[35])}return e=new Be({props:{class:"absolute -right-2 -top-2 text-white opacity-0 group-hover:opacity-100 z-10",icon:"close",size:"small",circle:!0,primary:!0}}),e.$on("click",n),{c(){ye(e.$$.fragment)},l(r){_e(e.$$.fragment,r)},m(r,a){we(e,r,a),t=!0},p(r,a){i=r},i(r){t||(E(e.$$.fragment,r),t=!0)},o(r){A(e.$$.fragment,r),t=!1},d(r){ke(e,r)}}}function yr(i){let e,t,n,r,a;function o(u,f){return u[33].complete?Ya:Ja}let s=o(i),l=s(i),c=i[33].complete&&br(i);return{c(){e=D("div"),t=D("a"),l.c(),n=Z(),c&&c.c(),r=Z(),this.h()},l(u){e=T(u,"DIV",{class:!0});var f=M(e);t=T(f,"A",{href:!0});var g=M(t);l.l(g),g.forEach(y),n=ee(f),c&&c.l(f),r=ee(f),f.forEach(y),this.h()},h(){P(t,"href",`#photo_${i[35]}`),P(e,"class","relative group")},m(u,f){C(u,e,f),$(e,t),l.m(t,null),$(e,n),c&&c.m(e,null),$(e,r),a=!0},p(u,f){s===(s=o(u))&&l?l.p(u,f):(l.d(1),l=s(u),l&&(l.c(),l.m(t,null))),u[33].complete?c?(c.p(u,f),f[0]&256&&E(c,1)):(c=br(u),c.c(),E(c,1),c.m(e,r)):c&&(Oe(),A(c,1,1,()=>{c=null}),Se())},i(u){a||(E(c),a=!0)},o(u){A(c),a=!1},d(u){u&&y(e),l.d(),c&&c.d()}}}function _r(i){let e,t,n,r,a,o,s,l,c,u,f,g,d,p,v,_,h;return{c(){e=D("div"),t=D("label"),n=D("span"),r=ne("Specify the subject"),a=Z(),o=D("select"),s=D("option"),l=D("option"),c=ne("Young Male"),u=D("option"),f=ne("Male"),g=D("option"),d=ne("Young Female"),p=D("option"),v=ne("Female"),this.h()},l(b){e=T(b,"DIV",{class:!0});var S=M(e);t=T(S,"LABEL",{class:!0,for:!0});var L=M(t);n=T(L,"SPAN",{class:!0});var G=M(n);r=ae(G,"Specify the subject"),G.forEach(y),L.forEach(y),a=ee(S),o=T(S,"SELECT",{class:!0,id:!0});var U=M(o);s=T(U,"OPTION",{}),M(s).forEach(y),l=T(U,"OPTION",{});var x=M(l);c=ae(x,"Young Male"),x.forEach(y),u=T(U,"OPTION",{});var R=M(u);f=ae(R,"Male"),R.forEach(y),g=T(U,"OPTION",{});var N=M(g);d=ae(N,"Young Female"),N.forEach(y),p=T(U,"OPTION",{});var K=M(p);v=ae(K,"Female"),K.forEach(y),U.forEach(y),S.forEach(y),this.h()},h(){P(n,"class","label-text"),P(t,"class","label"),P(t,"for","instance_class"),s.disabled=!0,s.selected=!0,s.__value="",s.value=s.__value,l.__value="young man",l.value=l.__value,u.__value="man",u.value=u.__value,g.__value="young woman",g.value=g.__value,p.__value="woman",p.value=p.__value,P(o,"class","select select-bordered"),P(o,"id","instance_class"),i[9]===void 0&&Yr(()=>i[23].call(o)),P(e,"class","form-control w-full max-w-xs svelte-kxza70")},m(b,S){C(b,e,S),$(e,t),$(t,n),$(n,r),$(e,a),$(e,o),$(o,s),$(o,l),$(l,c),$(o,u),$(u,f),$(o,g),$(g,d),$(o,p),$(p,v),Ct(o,i[9]),_||(h=Ir(o,"change",i[23]),_=!0)},p(b,S){S[0]&512&&Ct(o,b[9])},d(b){b&&y(e),_=!1,h()}}}function Xa(i){let e,t;return e=new Rn({props:{message:i[2].paid?"Caution: If you continue, you will not be able to upload any more photos.":"Before being able to train the AI, you must first complete the payment.",$$slots:{default:[ri]},$$scope:{ctx:i}}}),{c(){ye(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,r){we(e,n,r),t=!0},p(n,r){const a={};r[0]&4&&(a.message=n[2].paid?"Caution: If you continue, you will not be able to upload any more photos.":"Before being able to train the AI, you must first complete the payment."),r[0]&5|r[1]&128&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function Qa(i){let e,t;return e=new Be({props:{size:"small",type:"button",disabled:!i[2].paid||!i[2].trained||i[7]||i[2].in_training,animated:!0,$$slots:{default:[ni]},$$scope:{ctx:i}}}),e.$on("click",i[24]),{c(){ye(e.$$.fragment)},l(n){_e(e.$$.fragment,n)},m(n,r){we(e,n,r),t=!0},p(n,r){const a={};r[0]&132&&(a.disabled=!n[2].paid||!n[2].trained||n[7]||n[2].in_training),r[1]&128&&(a.$$scope={dirty:r,ctx:n}),e.$set(a)},i(n){t||(E(e.$$.fragment,n),t=!0)},o(n){A(e.$$.fragment,n),t=!1},d(n){ke(e,n)}}}function qa(i){let e;return{c(){e=ne("Generate")},l(t){e=ae(t,"Generate")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function Za(i){let e;return{c(){e=ne("Generated")},l(t){e=ae(t,"Generated")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function ei(i){let e;return{c(){e=ne("Generating..")},l(t){e=ae(t,"Generating..")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function ti(i){let e;function t(a,o){return a[2].in_training?ei:a[2].trained?Za:qa}let n=t(i),r=n(i);return{c(){r.c(),e=rt()},l(a){r.l(a),e=rt()},m(a,o){r.m(a,o),C(a,e,o)},p(a,o){n!==(n=t(a))&&(r.d(1),r=n(a),r&&(r.c(),r.m(e.parentNode,e)))},d(a){r.d(a),a&&y(e)}}}function wr(i){let e,t;return{c(){e=D("p"),t=ne("It can take up to 2 hours to complete the AI training"),this.h()},l(n){e=T(n,"P",{class:!0});var r=M(e);t=ae(r,"It can take up to 2 hours to complete the AI training"),r.forEach(y),this.h()},h(){P(e,"class","italic text-xs mt-2")},m(n,r){C(n,e,r),$(e,t)},d(n){n&&y(e)}}}function ri(i){let e,t,n,r;e=new Be({props:{size:"small",type:"button",disabled:!i[2].paid||i[0]&&i[0].length==0||i[2].trained||i[2].in_training,animated:!0,$$slots:{default:[ti]},$$scope:{ctx:i}}}),e.$on("click",i[25]);let a=i[2].in_training&&wr();return{c(){ye(e.$$.fragment),t=Z(),a&&a.c(),n=rt()},l(o){_e(e.$$.fragment,o),t=ee(o),a&&a.l(o),n=rt()},m(o,s){we(e,o,s),C(o,t,s),a&&a.m(o,s),C(o,n,s),r=!0},p(o,s){const l={};s[0]&5&&(l.disabled=!o[2].paid||o[0]&&o[0].length==0||o[2].trained||o[2].in_training),s[0]&4|s[1]&128&&(l.$$scope={dirty:s,ctx:o}),e.$set(l),o[2].in_training?a||(a=wr(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},i(o){r||(E(e.$$.fragment,o),r=!0)},o(o){A(e.$$.fragment,o),r=!1},d(o){ke(e,o),o&&y(t),a&&a.d(o),o&&y(n)}}}function ni(i){let e;return{c(){e=ne("Generate")},l(t){e=ae(t,"Generate")},m(t,n){C(t,e,n)},d(t){t&&y(e)}}}function ai(i){let e,t,n=i[2]&&pr(i);return{c(){e=D("div"),n&&n.c(),this.h()},l(r){e=T(r,"DIV",{class:!0});var a=M(e);n&&n.l(a),a.forEach(y),this.h()},h(){P(e,"class","w-full color-white max-w-2xl mx-auto my-16 px-2 gap-4 flex flex-col items-center")},m(r,a){C(r,e,a),n&&n.m(e,null),t=!0},p(r,a){r[2]?n?(n.p(r,a),a[0]&4&&E(n,1)):(n=pr(r),n.c(),E(n,1),n.m(e,null)):n&&(Oe(),A(n,1,1,()=>{n=null}),Se())},i(r){t||(E(n),t=!0)},o(r){A(n),t=!1},d(r){r&&y(e),n&&n.d()}}}let kr="",Or="",ii="",Sr=50;async function oi(i){if(i.complete){const t=await(await fetch(i.url)).blob(),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download=i.name.replace(".jpg",".png"),n.click(),URL.revokeObjectURL(n.href)}}function si(i,e,t){let n,r;It(i,Qr,j=>t(26,n=j)),It(i,Ra,j=>t(10,r=j));let a=null;async function o(){t(2,a=await Zr()),typeof v>"u"&&t(1,v=!a.in_training&&!a.trained),a.instance_class&&t(9,p=a.instance_class)}o();let s=!1,l,c=!1,u=!1,f=!1,g,d=[],p="",v;async function _(){var j;t(3,s=!0);try{if(l.files){if(((g==null?void 0:g.length)||0)+((j=l.files)==null?void 0:j.length)>30)throw new Error("You can upload a maximum of 20 photos");const H=[];for(let z=0;z<l.files.length;z++)H.push(new Promise((X,te)=>{l.files&&new On(l.files[z],{width:512,height:512,resize:"cover",quality:1,strict:!1,error(J){Ae(J),te()},async success(J){var se;xe.storage.from("photos-for-training").upload(((se=n.data.session)==null?void 0:se.user.id)+"/"+J.name,await J.arrayBuffer()).then(pe=>{pe.error&&(Ae(pe.error),te()),X(pe)})}})}));await Promise.allSettled(H),t(4,l.value="",l)}}catch(H){Ae(H)}finally{t(3,s=!1),L()}}async function h(){if(a)try{t(2,a.in_training=!0,a);const j=await fetch("/api/train",{method:"POST",body:JSON.stringify({instance_class:p,theme:kr,prompt:Or,quantity:Sr}),headers:{"content-type":"application/json"}});if(!j.ok)throw(await j.json()).message}catch(j){t(2,a.in_training=!1,a),Ae(j)}}async function b(){if(a.counter<110)try{t(7,f=!0);const j=await fetch("/api/prediction",{body:JSON.stringify({theme:kr,prompt:Or,seed:ii,quantity:Sr}),method:"POST",headers:{"content-type":"application/json"}});if(!j.ok)throw(await j.json()).message;o()}catch(j){Ae(j)}finally{t(7,f=!1)}}async function S(j,H,z=!0){var X,te;return(te=kt(await xe.storage.from(j).createSignedUrl(((X=n.data.session)==null?void 0:X.user.id)+"/"+H,86400,z?{transform:{height:96,width:96,resize:"cover"}}:{})))==null?void 0:te.signedUrl}async function L(){var j;t(5,c=!0);try{t(0,g=await Promise.all(kt(await xe.storage.from("photos-for-training").list((j=n.data.session)==null?void 0:j.user.id,{sortBy:{column:"created_at",order:"asc"}})).map(async H=>({url:await S("photos-for-training",H.name),name:H.name}))))}catch(H){Ae(H)}finally{t(5,c=!1)}}async function G(j){const H=g==null?void 0:g[j];if(H){t(0,g=g==null?void 0:g.filter(z=>z!==H));try{await xe.storage.from("photos-for-training").remove([U(H.name)])}catch(z){Ae(z)}}}function U(j){var H;return`${(H=n.data.session)==null?void 0:H.user.id}/${j}`}async function x(j){const H=d[j];if(t(8,d=d.filter(z=>z!==H)),H.complete)try{await xe.storage.from("photos-generated").remove([U(H.name)])}catch(z){Ae(z)}}async function R(){var j,H,z;t(6,u=!0);try{t(8,d=kt(await xe.storage.from("photos-generated").list((j=n.data.session)==null?void 0:j.user.id,{sortBy:{column:"created_at",order:"asc"}})).map(X=>({complete:!0,name:X.name,url:xe.storage.from("photos-generated").getPublicUrl(U(X.name)).data.publicUrl,thumb:xe.storage.from("photos-generated").getPublicUrl(U(X.name),{transform:{height:96,width:96}}).data.publicUrl}))),t(8,d=[...d,...((z=(await xe.from("predictions").select("*").eq("user_id",(H=n.data.session)==null?void 0:H.user.id).in("status",["starting","processing"])).data)==null?void 0:z.map(X=>({complete:!1,name:`${X.id}.jpg`})))||[]])}catch(X){Ae(X)}finally{t(6,u=!1)}}Hr(async()=>{{R();const j=xe.channel("public:predictions").on("postgres_changes",{event:"*",schema:"public",table:"predictions"},async z=>{console.log("Prediction changes",z),z.eventType=="UPDATE"?z.old.status!==z.new.status&&z.new.status==="succeeded"&&t(8,d=d.map(X=>X.name===`${z.new.id}.jpg`?{...X,complete:!0,url:xe.storage.from("photos-generated").getPublicUrl(U(X.name)).data.publicUrl,thumb:xe.storage.from("photos-generated").getPublicUrl(U(X.name),{transform:{height:96,width:96}}).data.publicUrl}:X)):z.eventType=="INSERT"&&z.new.status!=="succeeded"&&t(8,d=[...d,{complete:!1,name:`${z.new.id}.jpg`}])}).subscribe(),H=xe.channel("public:user_info").on("postgres_changes",{event:"UPDATE",schema:"public",table:"user_info"},()=>{o()});return()=>{j.unsubscribe(),H.unsubscribe()}}});const N=()=>{t(1,v=!v)},K=()=>{t(1,v=!v)};function le(j){l=j,t(4,l)}const me=j=>G(j),q=j=>x(j),ie=j=>oi(j),ge=j=>x(j);function ce(){p=Xr(this),t(9,p)}const re=()=>b(),oe=()=>h();return i.$$.update=()=>{i.$$.dirty[0]&3&&v&&typeof g>"u"&&L()},[g,v,a,s,l,c,u,f,d,p,r,_,h,b,G,x,N,K,le,me,q,ie,ge,ce,re,oe]}class wi extends Pr{constructor(e){super(),Lr(this,e,si,ai,xr,{},null,[-1,-1])}}export{wi as component,_i as universal};
